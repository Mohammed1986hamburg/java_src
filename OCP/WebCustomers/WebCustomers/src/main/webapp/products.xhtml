<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:c="http://java.sun.com/jsf/core">



    <ui:composition template="templates/standard.xhtml">
            <ui:define name="nav">
                <ui:include src="/templates/main-nav.xhtml"/>
            </ui:define>

            <ui:define name="main">
                <h:dataTable class="table" value="#{products.productList}" var="p">
                    <h:column>
                        <c:facet name="header">ID</c:facet>
                            #{p.id}
                    </h:column>
                    <h:column>
                        <c:facet name="header">#{uic.tab_name}</c:facet>
                            #{p.name}
                    </h:column>
                    <h:column>
                        <c:facet name="header">#{uic.tab_desc}</c:facet>
                            #{p.description}
                    </h:column>
                    <h:column>
                        <c:facet name="header">#{uic.tab_price}</c:facet>
                        <h:outputText value="#{p.price}">
                            <c:convertNumber pattern="###.##" />
                        </h:outputText>
                    </h:column>
                    <h:column>
                        <h:form>
                            <h:commandButton value="#{uic.form_edit}" class="btn btn-warning" action="#{products.edit(p)}" />
                            <h:commandButton value="#{uic.form_delete}" class="btn btn-danger" action="#{products.delete(p)}" />
                        </h:form>
                    </h:column>
                </h:dataTable>
            </ui:define>

            <ui:define name="right">
                
                <h:form>
                    
                    <h:inputHidden value="#{products.current.id}" />
                    
                    <div class="form-group">
                        <label>#{uic.form_name}:</label>
                        <h:inputText class="form-control" required="true" value="#{products.current.name}" />
                    </div>
                    
                    <div class="form-group">
                        <label>#{uic.form_desc}:</label>
                        <h:inputTextarea class="form-control" value="#{products.current.description}"/>
                    </div>
                    
                    <div class="form-group">
                        <label>#{uic.form_price}:</label>
                        <h:inputText  class="form-control" required="true" id="price" requiredMessage="Darf nicht leer sein." value="#{products.current.price}">
                            <c:convertNumber pattern="###.##" />
                        </h:inputText>
                        
                        <h:message for="price" class="alert alert-danger" />
                    </div>
                    
                    <h:commandButton action="#{products.save(products.current)}" class="btn btn-success" value="#{uic.form_save}" />
                    
                </h:form>

            </ui:define>
    </ui:composition>

</html>

